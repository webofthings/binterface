{"version":3,"sources":["../../../client/app/setup/setup.controller.js"],"names":[],"mappings":"AAAA;;;;;;AACA,CAAC,YAAU;MAEL;AAEJ,aAFI,cAEJ,CAAY,QAAZ,EAAsB;4BAFlB,gBAEkB;;AACpB,WAAK,OAAL,GAAe,OAAf,CADoB;AAEpB,WAAK,QAAL,GAAgB,QAAhB,CAFoB;AAGpB,WAAK,GAAL,GAAW,SAAS,MAAT,EAAX,CAHoB;AAIpB,WAAK,IAAL,GAAY,SAAS,OAAT,EAAZ,CAJoB;KAAtB;;iBAFI;;+BASK;;;AACP,aAAK,IAAL,CAAU,UAAV,GAAuB,MAAvB,CAA8B;AAC5B,gBAAO,uBAAP;SADF,EAEG,IAFH,CAEQ,sBAAc;;AAEpB,iBAAO,IAAI,GAAJ,CAAQ;AACb,iBAAM,kBAAkB,WAAW,EAAX,GAAgB,QAAlC;AACN,kBAAO,CAAC,MAAK,OAAL,CAAa,CAAb,EAAgB,IAAhB,CAAqB,EAArB,CAAR;AACA,oBAAS,KAAT;AACA,2BAAgB,MAAK,QAAL,CAAc,UAAd,GAA2B,EAA3B;WAJX,EAKJ,IALI,CAKC,eAAO;AACb,mBAAO,IAAI,GAAJ,CAAQ;AACb,mBAAM,kBAAkB,WAAW,EAAX,GAAgB,QAAlC;AACN,oBAAO,CAAC,MAAK,OAAL,CAAa,CAAb,EAAgB,IAAhB,CAAqB,EAArB,CAAR;AACA,sBAAS,KAAT;AACA,6BAAgB,MAAK,QAAL,CAAc,UAAd,GAA2B,EAA3B;aAJX,CAAP,CADa;WAAP,CALR,CAFoB;SAAd,CAFR,CADO;;;;8BAsBD,SAAS;;;AAGf,aAAK,GAAL,CAAS,IAAT,CAAc;AACZ,gBAAM,QAAN;AACA,oBAAW,KAAX;AACA,4BAAmB,IAAnB;AACA,+BAAsB,IAAtB;AACA,mBAAS;AACL,qBAAS,IAAT;AACA,qBAAS;AACL,qBAAO,OAAP;aADJ;WAFJ;AAMA,qBAAW,IAAX;SAXF,EAaC,IAbD,CAaM,UAAC,MAAD,EAAW;AACb,kBAAQ,GAAR,CAAY,OAAZ,EAAqB,MAArB,EADa;AAEb,iBAAK,OAAL,CAAa,IAAb,CAAkB,MAAlB,EAFa;AAGb,iBAAK,MAAL,GAHa;SAAX,EAID,UAAC,GAAD,EAAS;AACV,kBAAQ,GAAR,CAAY,KAAZ,EAAmB,GAAnB,EADU;SAAT,CAjBL,CAHe;;;;sCAyBD;;;AAEd,aAAK,GAAL,CAAS,IAAT,CAAc;AACZ,gBAAM,QAAN;AACA,oBAAW,KAAX;AACA,4BAAmB,IAAnB;AACA,+BAAsB,IAAtB;AACA,mBAAS;AACL,qBAAS,IAAT;AACA,qBAAS;AACL,qBAAO,OAAP;aADJ;WAFJ;AAMA,qBAAW,IAAX;SAXF,EAaC,IAbD,CAaM,UAAC,MAAD,EAAY;AAChB,iBAAK,OAAL,GAAe,CAAC,MAAD,CAAf,CADgB;SAAZ,EAED,UAAC,GAAD,EAAS;AACV,kBAAQ,GAAR,CAAY,KAAZ,EAAmB,GAAnB,EADU;SAAT,CAfL,CAFc;;;;WAxDZ;MAFK;;AAiFX,UAAQ,MAAR,CAAe,eAAf,EACG,SADH,CACa,OADb,EACsB;AAClB,iBAAa,sBAAb;AACA,gBAAY,cAAZ;GAHJ,EAjFW;CAAV,CAAD","file":"setup.controller.js","sourcesContent":["'use strict';\n(function(){\n\nclass SetupComponent {\n\n  constructor(Evrythng) {\n    this.message = 'Hello';\n    this.Evrythng = Evrythng;\n    this.app = Evrythng.getApp();\n    this.user = Evrythng.getUser();\n  }\n\n  pairUp() {\n    this.user.collection().create({\n      name : 'Bin to Binometer Pair'\n    }).then(collection => {\n\n      return EVT.api({\n        url : '/collections/' + collection.id + '/thngs',\n        data : [this.results[0].thng.id],\n        method : 'put',\n        authorization : this.Evrythng.getOptions().op\n      }).then(val => {\n        return EVT.api({\n          url : '/collections/' + collection.id + '/thngs',\n          data : [this.results[1].thng.id],\n          method : 'put',\n          authorization : this.Evrythng.getOptions().op\n        });\n      });\n\n    });\n  }\n\n  scanBin(results) {\n\n\n    this.app.scan({\n      type: 'qrcode',\n      redirect : false,\n      createScanAction : true,\n      createAnonymousUser : true,\n      spinner: {\n          enabled: true,\n          options: {\n              color: 'black'\n          }\n      },\n      invisible: true\n    })\n    .then((result) =>{\n        console.log('> REE', result)\n        this.results.push(result);\n        this.pairUp();\n      }, (err) => {\n        console.log('err', err)\n      });\n  }\n\n  scanBinometer() {\n\n    this.app.scan({\n      type: 'qrcode',\n      redirect : false,\n      createScanAction : true,\n      createAnonymousUser : true,\n      spinner: {\n          enabled: true,\n          options: {\n              color: 'black'\n          }\n      },\n      invisible: true\n    })\n    .then((result) => {\n      this.results = [result];\n      }, (err) => {\n        console.log('err', err)\n      });\n    }\n}\n\nangular.module('binterfaceApp')\n  .component('setup', {\n    templateUrl: 'app/setup/setup.html',\n    controller: SetupComponent\n  });\n\n})();\n"]}